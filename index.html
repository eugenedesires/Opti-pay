<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Opti pay- Accueil</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="https://EASY PAY.net/assets/favicon.ico" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="https://paiefacile.net/css/styles.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6QkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <style>
        body {
            background-color: skyblue; /* Couleur de fond bleu */
        }
    </style>
</head>
<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="">OPTI PAY</a>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="amasthead">
        <div class="container px-4 px-lg-5 h-100">
            <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
            </div>
        </div>
    </header>
    <div class="container" style="margin-top:90px ;">
        <div class="container">
            <form class="form-siggnin" style="max-width:500px; padding: 5px; margin: auto;" method="post" action="test_paie" enctype="multipart/form-data">
                <h1 class="h3 mb-3 font-weight-normal"> EASY PAY</h1>
                <input type="hidden" name="_token" value="VcAHAv87IE0ml8kJjKOd7tY0yf4FOAx5snLS6tbk">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12" style="width: 100%;">
                        <div class="form-group">
                            <label for="id_statut_matrimonial" class="sr-only">Statut matrimonial <span style="color:red;">*</span></strong></label>
                            <select class="form-select" aria-label="Default select example" id="id_statut_matrimonial" name="id_statut_matrimonial" required>
                                <option value=""></option>
                                <option value="1" nbre_part="1">Célibataire, divorcé ou veuf</option>
                                <option value="2" nbre_part="2">marié</option>
                                <option value="3" nbre_part="2.5">marié ou veuf avec un enfant en charge</option>
                                <option value="4" nbre_part="2">celibataire ou divorcé avec un enfant en charge</option>
                                <option value="5" nbre_part="2.5">célibataire, divorcé avec 2 enfants</option>
                                <option value="6" nbre_part="3">marié ou veuf avec 2 enfants</option>
                                <option value="7" nbre_part="3">célibataire, divorcé avec 3 enfants</option>
                                <option value="8" nbre_part="3.5">marié ou veuf avec 3 enfants</option>
                                <option value="9" nbre_part="3.5">célibataire, divorcé avec 4 enfants</option>
                            </select>
                            <div class="mel_div">
                                <label for="SAI_Salaire_brut" class="sr-only"> Salaire brut <span style="color:red;">*</span></strong></label>
                                <input type="number" id="SAI_Salaire_brut" class="form-control" name="SAI_Salaire_brut" required>
                            </div>
                            <div class="mel_div">
                                <label for="SAI_Nbre_part" class="sr-only"> Nbre de part <span style="color:red;">*</span></strong></label>
                                <input type="number" id="SAI_Nbre_part" step="0.5" class="form-control" name="SAI_Nbre_part" required>
                            </div>
                            <div class="mel_div">
                                <label for="SAI_Nbre_jrs_trav" class="sr-only"> Nbre jrs travaillés <span style="color:red;">*</span></strong></label>
                                <input type="number" id="SAI_Nbre_jrs_trav" class="form-control" value="30" name="SAI_Nbre_jrs_trav" required>
                            </div>
                            <div class="mel_div">
                                <label for="SAI_Elements_non_imposable" class="sr-only"> Eléments non imposables</label>
                                <input type="number" id="SAI_Elements_non_imposable" step="0.5" class="form-control" value="0" name="SAI_Elements_non_imposable">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_Autres_retenues" class="sr-only"> Retenues</label>
                                <input type="number" id="SAI_Autres_retenues" step="0.5" class="form-control" value="0" name="SAI_Autres_retenues">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_CNPS" class="sr-only"> CNPS</label>
                                <input type="number" id="SAI_CNPS" step="0.5" class="form-control" name="SAI_CNPS">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_CMU_SALARIAL" class="sr-only"> CMU SALARIAL</label>
                                <input type="number" id="SAI_CMU_SALARIAL" step="0.5" class="form-control" value="500" name="SAI_CMU_SALARIAL">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_Impot_brut" class="sr-only"> Impot brut</label>
                                <input type="number" id="SAI_Impot_brut" step="0.5" class="form-control" name="SAI_Impot_brut">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_RICF" class="sr-only"> RICF</label>
                                <input type="number" id="SAI_RICF" step="0.5" class="form-control" name="SAI_RICF">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_TOT_RETENUES_REFORMEES" class="sr-only"> TOTAL RETENUES REFORME</label>
                                <input type="number" id="SAI_TOT_RETENUES_REFORMEES" step="0.5" class="form-control" name="SAI_TOT_RETENUES_REFORMEES">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_IMPOT_NETAPAYER" class="sr-only"> IMPOT NET A PAYER </label>
                                <input type="number" id="SAI_IMPOT_NETAPAYER" step="0.5" class="form-control" name="SAI_IMPOT_NETAPAYER">
                            </div>
                            <div class="mel_div">
                                <label for="SAI_NETAPAYER_R" class="sr-only"> NETAPAYER REFORME</label>
                                <input type="number" id="SAI_NETAPAYER_R" step="0.5" class="form-control" name="SAI_NETAPAYER_R">
                            </div>
                        </div>
                    </div>
                    <div style="margin-top:10px">
                        <button class="btn btn-primary btn-block" type="button" id="Calcul_paie">Calcul paie</button>
                        <button class="btn btn-primary btn-block" type="reset">Annuler</button>
                        <button class="btn btn-success btn-block" type="button" id="Paie_inverse" style="float:right">Paie inverse</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- Footer-->
    <footer class="bg-light py-5">
        <div class="container px-4 px-lg-5">
            <div class="small text-center text-muted"></div>
        </div>
    </footer>
    <!-- JQUERY-->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://paiefacile.net/js/scripts.js"></script>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SimpleLightbox plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
    <!-- Script ajaxForm -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.js"></script>
    <!-- Script ajaxForm -->
    <script src="https://paiefacile.net/js/my_scripts.js"></script>

    <script>
        $(document).ready(function(){
            // Fonction de calcul de paie normale
            $('#Calcul_paie').click(function(){
                var salaireBrut = parseFloat($('#SAI_Salaire_brut').val());
                var nbrePart = parseFloat($('#SAI_Nbre_part').val());
                var nbreJrsTrav = parseInt($('#SAI_Nbre_jrs_trav').val());
                var elementsNonImposables = parseFloat($('#SAI_Elements_non_imposable').val());
                var autresRetenues = parseFloat($('#SAI_Autres_retenues').val());
                var cnps = parseFloat($('#SAI_CNPS').val());
                var cmuSalarial = parseFloat($('#SAI_CMU_SALARIAL').val());
                var impotBrut = parseFloat($('#SAI_Impot_brut').val());
                var ricf = parseFloat($('#SAI_RICF').val());

                // Calcul du net à payer normal
                var totalRetenues = cnps + cmuSalarial + impotBrut + ricf + autresRetenues;
                var netAPayer = salaireBrut - totalRetenues + elementsNonImposables;

                // Affichage du résultat
                alert('Net à payer normal : ' + netAPayer.toFixed(2) + ' F CFA');
            });

            // Fonction de calcul de paie inversée
            $('#Paie_inverse').click(function(){
                var salaireBrut = parseFloat($('#SAI_Salaire_brut').val());
                var nbrePart = parseFloat($('#SAI_Nbre_part').val());
                var nbreJrsTrav = parseInt($('#SAI_Nbre_jrs_trav').val());
                var elementsNonImposables = parseFloat($('#SAI_Elements_non_imposable').val());
                var autresRetenues = parseFloat($('#SAI_Autres_retenues').val());
                var cnps = parseFloat($('#SAI_CNPS').val());
                var cmuSalarial = parseFloat($('#SAI_CMU_SALARIAL').val());
                var impotBrut = parseFloat($('#SAI_Impot_brut').val());
                var ricf = parseFloat($('#SAI_RICF').val());

                // Calcul du net à payer inversé (hypothèse : salaire brut déterminé à partir du net)
                var netAPayer = salaireBrut; // On considère ici que le salaire brut est déjà le net à payer pour simplifier
                var totalRetenues = cnps + cmuSalarial + impotBrut + ricf + autresRetenues;
                var salaireBrutInverse = netAPayer + totalRetenues - elementsNonImposables;

                // Affichage du résultat
                alert('Salaire brut inversé : ' + salaireBrutInverse.toFixed(2) + ' F CFA');
            });
        });
    </script>
</body>
</html>
